<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>กำลังปรับปรุงเว็บไซต์</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-color: #f4f4f4;
      font-family: Arial, sans-serif;
      text-align: center;
      overflow: hidden;
    }
    .container {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      position: relative;
      z-index: 2;
    }
    h1 {
      color: #333;
      font-size: 1.5em;
      animation: bounce 1.5s infinite alternate ease-in-out;
    }
    @keyframes bounce {
      0% { transform: translateY(0); }
      100% { transform: translateY(-10px); }
    }
    .rocket {
      position: absolute;
      width: 100px;
      bottom: -100px;
      transform-origin: center center;
      z-index: 10;
    }
    .rocket.left {
      left: 50px;
    }
    .rocket.right {
      right: 50px;
    }
    .rocket.center-left {
      left: 150px;
    }
    .rocket.center-right {
      right: 150px;
    }
    .coin {
      position: absolute;
      width: 50px;
      height: 50px;
      z-index: 5;
      opacity: 0;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Initial animations
      gsap.from(".container", { 
        opacity: 0, 
        y: -50, 
        duration: 1 
      });
      
      gsap.from("img:not(.rocket):not(.coin)", { 
        opacity: 0, 
        scale: 0.5, 
        duration: 1, 
        delay: 0.5 
      });
      
      // Set initial positions
      gsap.set(".rocket.left", { left: 50, bottom: -100 });
      gsap.set(".rocket.right", { right: 50, bottom: -100 });
      gsap.set(".rocket.center-left", { left: 150, bottom: -100 });
      gsap.set(".rocket.center-right", { right: 150, bottom: -100 });
      
      // Initial rocket movement (going up) for all rockets with staggered timing
      const rockets = [".rocket.left", ".rocket.right", ".rocket.center-left", ".rocket.center-right"];
      
      rockets.forEach((rocketSelector, index) => {
        gsap.to(rocketSelector, { 
          y: -600, 
          duration: 3,
          delay: index * 0.5, // Stagger the start times
          ease: "power2.inOut",
          onComplete: function() {
            const rocket = document.querySelector(rocketSelector);
            // Reset position tracking for GSAP
            gsap.set(rocket, { clearProps: "y" });
            // Get actual position after animation
            const rect = rocket.getBoundingClientRect();
            // Set absolute position
            gsap.set(rocket, { 
              top: rect.top,
              left: rect.left,
              bottom: "auto",
              right: "auto"
            });
            randomRocketMovement(rocketSelector);
          }
        });
      });
      
      // Function for continuous random movement
      function randomRocketMovement(rocketSelector) {
        const rocket = document.querySelector(rocketSelector);
        const rocketWidth = rocket.offsetWidth;
        const rocketHeight = rocket.offsetHeight;
        
        // Viewport boundaries with padding
        const padding = 20;
        const maxX = window.innerWidth - rocketWidth - padding;
        const maxY = window.innerHeight - rocketHeight - padding;
        const minX = padding;
        const minY = padding;
        
        // Current position
        const rect = rocket.getBoundingClientRect();
        const currentX = rect.left;
        const currentY = rect.top;
        
        // Random new position within boundaries
        const newX = Math.max(minX, Math.min(maxX, Math.random() * maxX));
        const newY = Math.max(minY, Math.min(maxY, Math.random() * maxY));
        
        // Calculate angle based on movement direction
        const deltaX = newX - currentX;
        const deltaY = newY - currentY;
        const angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);
        
        // Adjust angle to make top of rocket point in direction of movement
        const rotationAngle = angle + 90;
        
        // Random duration between 2-4 seconds
        const duration = 2 + Math.random() * 2;
        
        // Coin drop frequency
        const coinDropInterval = duration * 1000 / 5; // Drop 5 coins during movement
        
        // Create timeout for dropping coins at intervals
        let coinCounter = 0;
        const coinDropper = setInterval(function() {
          // Calculate current position of rocket during movement
          const progress = coinCounter / 5; // 0 to 1 based on 5 coins
          const currentPosX = currentX + (deltaX * progress);
          const currentPosY = currentY + (deltaY * progress);
          
          // Drop a coin at current position
          createCoin(currentPosX + rocketWidth/2, currentPosY + rocketHeight/2);
          
          coinCounter++;
          if (coinCounter >= 5) {
            clearInterval(coinDropper);
          }
        }, coinDropInterval);
        
        gsap.to(rocketSelector, {
          left: newX,
          top: newY,
          rotation: rotationAngle,
          duration: duration,
          ease: "power1.inOut",
          onComplete: function() {
            // Continue with next random movement
            randomRocketMovement(rocketSelector);
          }
        });
      }
      
      // Function to create and animate falling coins
      function createCoin(x, y) {
        // Create new coin element
        const coin = document.createElement("img");
        coin.src = "test2.png";
        coin.className = "coin";
        document.body.appendChild(coin);
        
        // Set initial position
        gsap.set(coin, {
          left: x,
          top: y,
          rotation: Math.random() * 360,
          opacity: 0
        });
        
        // Random horizontal shift
        const horizontalShift = -15 + Math.random() * 30;
        
        // Define falling animation
        const tl = gsap.timeline({
          onComplete: function() {
            // Remove coin element after animation
            coin.remove();
          }
        });
        
        // Coin animation sequence
        tl.to(coin, {
          opacity: 1,
          duration: 0.3
        })
        .to(coin, {
          top: window.innerHeight + 50, // Fall below screen
          left: "+=" + horizontalShift,
          rotation: "+=" + (Math.random() * 720 - 360), // Random spin
          duration: 2 + Math.random() * 2,
          ease: "power1.in" // Accelerate as it falls
        });
        
        return coin;
      }
    });
  </script>
</head>
<body>
  <img src="test.png" class="rocket left" alt="Rocket Left">
  <img src="test.png" class="rocket right" alt="Rocket Right">
  <img src="test.png" class="rocket center-left" alt="Rocket Center Left">
  <img src="test.png" class="rocket center-right" alt="Rocket Center Right">
  <div class="container">
    <h1>เว็บไซต์กำลังอยู่ระหว่างการปรับปรุง</h1>
    <img src="QR_bank.jpg" width="300px" alt="QR Code">
    <p>Support me</p>
  </div>
</body>
</html>